https://mattn.kaoriya.net/software/lang/go/20180531104907.htm

## 意識改革

- 時間がかかる処理は DB アクセスや Web API リクエストだと思って考える。
- `go` 命令を使い慣れてなさすぎるので、そこから問題かもしれない…。
    - 関数式ではなく、`()` 付きの関数呼び出しの前に `go` を置く。
- `chan` は基本的にクロージャに含まれるため、寿命が長い（スコープが広い）
    - 認知負荷高くね？という気分になるが、どう捉えるのが良いだろうか…？
- `go` 以外は同期的に上から下へ処理が流れる、chan のみがブロック要素になる
    - サイズ1の chan は await ぐらいに思ってもいいかもしれない
- JS の Promise と比較するうちは、バッファサイズ1の chan しかイメージできないかもしれない
- chan を関数に渡すのと、chan を関数が返すことは、やれることに本質的な違いは多分ない
    - 管理をどちらがするか、による？
    - このあたりは context を扱いはじめたら、また変わるかもしれない
    - **関数から返す場合、常に新しい chan が生成される点は注意が必要になる**
- fan in などが特にそうだが、「複数」を扱い出すとどうしても for ループせざるを得ない
    - なぜか直感的に感じられない
- select は複数の chan の受信を同時に待ち受けることができる
    - case のうちの、どれか1つのみを実行し、実行したら処理は次に進む

## 作ってみる TODO

- [ ] 単純な Promise なら、デフォルトサイズのチャンネルで作れそう？
    - 成功と失敗の区別がぱっとは思い浮かばない
- [ ] バッファ付きのジェネレータで、同時処理数を絞ったリクエストを行う
- [ ] fan in で Promise.all 的なものを作ってみる
- [ ] 
- [ ] 
- [ ] 
- [ ] 
